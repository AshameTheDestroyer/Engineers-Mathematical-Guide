import{X as T,u as D,j as r,t as b,r as u,w as R,q as _,Y as F,Z as $,I as M,W as q,b as z}from"./index-C1_kRMwr.js";import{r as K}from"./index-Cq3yP04u.js";import{u as W}from"./useElementInformation-DwWA6vsF.js";const G="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20viewBox='0%200%2024%2024'%3e%3cpath%20fill='none'%20stroke='currentColor'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2.5'%20d='m17%2014l-5-5m0%200l-5%205'%20/%3e%3c/svg%3e",Z=({id:g,ref:E,length:t,Renders:h,className:j})=>{const a=T(),l=a.pathname=="/"?[]:a.pathname.split("/"),{direction:i}=D();if(t!=null&&t<2)throw Error("Length cannot be less than 2.");const o=c().filter(d).filter((n,s,x)=>s==x.indexOf(n));function c(){if(t==null)return l;const n=t%2==0?t/2:(t-1)/2,s=t%2==0?l.length-t/2:l.length-(t+1)/2;return[...l.slice(0,n),void 0,...l.slice(s)]}function d(n){return t!=null&&l.length>t?!0:n!=null}function k(n,s){return s==0?"/":l.filter(x=>x!=null).slice(0,l.indexOf(n)+1).join("/")}function L(n,s){return n==null?"...":s==0?i=="ltr"?"/":"\\":(h==null?void 0:h(n))??(n==null?void 0:n.toTitleCase())}return r.jsx("nav",{id:g,ref:E,className:b("flex items-center bg-inherit text-sm shadow-[none!important]",j),children:r.jsx("ol",{className:"flex items-center gap-x-2 gap-y-1 overflow-x-auto py-2",children:o.map((n,s)=>r.jsxs(u.Fragment,{children:[r.jsx("li",{className:"flex items-center",children:n==null?r.jsx("p",{children:"..."}):r.jsx(R,{to:k(n,s),children:L(n,s)})}),s<l.length-1&&r.jsx("li",{children:r.jsx(_,{className:i=="ltr"?"rotate-90":"rotate-270",width:24,height:24,source:G})})]},s))})})},U="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20viewBox='0%200%2024%2024'%3e%3cpath%20fill='currentColor'%20d='m12%2013.4l-4.9%204.9q-.275.275-.7.275t-.7-.275t-.275-.7t.275-.7l4.9-4.9l-4.9-4.9q-.275-.275-.275-.7t.275-.7t.7-.275t.7.275l4.9%204.9l4.9-4.9q.275-.275.7-.275t.7.275t.275.7t-.275.7L13.4%2012l4.9%204.9q.275.275.275.7t-.275.7t-.7.275t-.7-.275z'%20/%3e%3c/svg%3e",H=({id:g,ref:E,isOpen:t,children:h,className:j,setIsOpen:a,style:l,hasCloseButton:i,closeButtonProps:o,isBackdropDisabled:c,isAnimationDisabled:d,animationDuration:k=400,...L})=>{const{direction:n}=D(),s=u.useRef(null),[x,w]=u.useState(t);u.useImperativeHandle(E,()=>s.current);const p={"--animation-duration":`${k}ms`,...l};return u.useEffect(()=>{if(d||t){w(t);return}const y=setTimeout(()=>{w(!1)},k);return()=>{clearTimeout(y)}},[t]),u.useEffect(()=>{if([!x,F==null,s.current==null].some(Boolean))return;const I=s.current.getFocusableElements(),v=I[0],C=I.at(-1);function e(f){var S;if(f.key=="Tab"){if(((S=document.activeElement)==null?void 0:S.closest("#modal-container"))!=$){f.preventDefault(),v.focus();return}if(f.shiftKey&&document.activeElement==v){f.preventDefault(),C.focus();return}!f.shiftKey&&document.activeElement==C&&(f.preventDefault(),v.focus())}}function N(f){f.key=="Escape"&&w(!1)}return document.addEventListener("keydown",e),document.addEventListener("keydown",N),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keydown",N)}},[x]),!x||$==null?r.jsx(r.Fragment,{}):K.createPortal(r.jsxs(r.Fragment,{children:[!c&&r.jsx("div",{className:b("modal-backdrop fixed inset-0 bg-black/30",!d&&"animated",t&&"open"),style:p,onClick:y=>a(!1)}),r.jsxs("div",{id:g,ref:s,className:b("modal -translate-1/2 fixed left-1/2 top-1/2 z-50 flex min-h-12 min-w-12 flex-col rounded-2xl p-8",!d&&"animated",t&&"open",j),style:p,...L,children:[i&&r.jsx(M,{variant:"error",thickness:"thin",...o,className:b("absolute top-4 z-[1]",n=="rtl"?"left-4":"right-4",o==null?void 0:o.className),icon:{width:20,height:20,thickness:2,source:U,stroke:"currentColor",...o==null?void 0:o.icon},onClick:y=>{var m;return(m=o==null?void 0:o.onClick)==null||m.call(o,y),a(!1)}}),h]})]}),$)},A=({id:g,ref:E,isOpen:t,children:h,className:j,direction:a,setIsOpen:l,onTouchEnd:i,onTouchMove:o,onTouchStart:c,animationDuration:d=300,closingPercentage:k="50%",...L})=>{const n=u.useRef(null);u.useImperativeHandle(E,()=>n.current);const s=W(n),[x,w]=u.useState(),[p,y]=u.useState(),m=u.useMemo(()=>{if(p==null||x==null)return{x:0,y:0};const e={x:x.x-p.x,y:x.y-p.y};return{x:a=="left"&&e.x<0||a=="right"&&e.x>0?e.x:0,y:a=="top"&&e.y<0||a=="bottom"&&e.y>0?e.y:0}},[x,p]);u.useEffect(()=>{const{width:e,height:N}=s,f=+k.replace("%","")/100;e==0||N==0||[a=="top"&&-m.y>=N*f,a=="left"&&-m.x>=e*f,a=="right"&&m.x>=e*f,a=="bottom"&&m.y>=N*f].some(Boolean)&&l(!1)},[m,s.width,s.height]),u.useEffect(()=>{if(t){w(void 0),y(void 0);return}setTimeout(()=>{w(void 0),y(void 0)},d)},[t]);const I={top:"bottom-auto px-12",left:"right-auto py-12",right:"left-auto py-12",bottom:"top-auto px-12"},v={top:{from:{x:0,y:-100},to:{x:0,y:0}},left:{from:{x:-100,y:0},to:{x:0,y:0}},right:{from:{x:100,y:0},to:{x:0,y:0}},bottom:{from:{x:0,y:100},to:{x:0,y:0}}};function C(e){return{x:e.clientX,y:e.clientY}}return r.jsx(H,{id:g,ref:n,className:b("drawer bg-background-light translate-0 inset-0 touch-none rounded-none",I[a],j),isOpen:t,setIsOpen:l,animationDuration:d,onTouchStart:e=>(t&&y(C(e.touches.item(0))),i==null?void 0:i(e)),onTouchMove:e=>(t&&w(C(e.touches.item(0))),o==null?void 0:o(e)),onTouchEnd:e=>(t&&y(void 0),t&&w(void 0),i==null?void 0:i(e)),style:{"--to-x":`calc(${v[a].to.x}% + ${m.x}px)`,"--to-y":`calc(${v[a].to.y}% + ${m.y}px)`,"--from-x":`calc(${v[a].from.x}% + ${m.x}px)`,"--from-y":`calc(${v[a].from.y}% + ${m.y}px)`},...L,children:h})},Q=({id:g,ref:E,base:t,routes:h,Renders:j,className:a,direction:l})=>{const{pathname:i}=T();if(t==null)return r.jsx(r.Fragment,{});const o=h.map(c=>({...c,selected:i==q.base.absolute&&c.href==""||c.href!="/"&&c.href!=""&&i.startsWith((t+(t.endsWith("/")?"":"/")+c.href).replace(/\/$/,""))})).map(j??(()=>{}));return r.jsx("nav",{id:g,ref:E,className:b("flex",a),children:r.jsx("ul",{className:z(l=="column"&&"flex-col","flex flex-wrap place-content-around gap-6"),children:h.map((c,d)=>r.jsx("li",{children:o[d]??r.jsx(R,{to:c.href,children:c.title})},d))})})};export{Z as B,A as D,H as M,Q as N,G as a};
