import{j as e,B as g,o as N,y as L,G as S,v as _,u as z,l as I,k as R,F as n,m as w,b as D,L as p,D as h,d as y,w as k}from"./index-UR4dbTZR.js";import{B as E}from"./BorderedList-Cy-zJj52.js";import{B as G}from"./ButtonBox-C_M8pZ6B.js";import{u as A,L as B}from"./useGetLearningTrackByID-CT7BUvjv.js";import{L as j}from"./LearningTracksDisplay-CK9OgD6P.js";import{S as x}from"./SearchResultDisplay-8NdmDBCu.js";import{R as C}from"./RelatedUsersDisplay-DjA0Iex-.js";import{u as K}from"./useGetLearningTracks-BNeNH4D5.js";import{a as q}from"./arrow-CEXDshSc.js";import{s as M}from"./star-B-UdhycM.js";import{l as i}from"./learning_tracks_page-C66Wtpdr.js";import"./Separator-BO5JJnx0.js";import"./CardSummary-DKWH6o2T.js";import"./Rating-Burq3zKp.js";import"./user-BgdDnp0D.js";import"./Image-D3Vf6FaZ.js";import"./network_error-BFEUb7Sm.js";import"./LearningTrackSchema-CzI5Jpwe.js";import"./useShadow-CWVGJ3uV.js";import"./RichText-Dzc20BH7.js";import"./ProfileAvatar-o3ih2GMV.js";import"./useElementInformation-DeeRCPb7.js";import"./CreateFilterFunction-CUEokTdJ.js";const U=({isError:t,isLoading:o,isSuccess:s,errorDisplay:r,emptyDisplay:l,refetch:a,skeletonArray:d,data:c})=>o||c==null?e.jsx(j,{isSkeleton:!0,learningTracks:d}):t?e.jsx(x,{className:"place-items-start!",...r,iconType:"error",buttons:e.jsx(g,{onClick:m=>a(),children:r.button})}):s&&c.length==0?e.jsx(x,{className:"place-items-start! [&>h2.typography]:text-lg [&>h2.typography]:font-normal",iconType:"none",...l}):e.jsx(j,{learningTracks:c}),F="get-specialized-users",P=(t,o,s)=>N({schema:S,queryFn:()=>t==null?[]:L.filter(r=>r.specialization==t.id),parseFn:(r,l)=>(r==null?void 0:r.map(a=>l.parse(a)))??[],...o,queryKey:[F,t==null?void 0:t.id,...(o==null?void 0:o.queryKey)??[]]},s),Q=5,T="get-similar-learning-tracks",V=(t,o=Q,s,r)=>K(t==null?void 0:t.tags.join(" "),{transform:l=>{var a;return(a=l==null?void 0:l.filter(d=>d.id!=(t==null?void 0:t.id)))==null?void 0:a.slice(0,o)},...s??{},queryKey:[T,t==null?void 0:t.id,...(s==null?void 0:s.queryKey)??[]]},r),ge=()=>{const t=_(),{direction:o,language:s,GetLocale:r}=z(),{learningTrackID:l}=I(),{data:a}=A(l,{usesSuspense:!0}),d=P(a,{enabled:a!=null}),{myUser:c}=R(),m=l!=null&&(c==null?void 0:c.specialization)==l,b=V(a,void 0,{enabled:a!=null}),f=new Array(5).fill(null);return a==null?e.jsx(x,{className:"grow",iconType:"empty",title:r(i.display.empty.title,s),paragraph:r(i.display.empty.paragraph,s).replace(/\*\*([^\*]+)\*\*/,`**"${l}"**`)}):e.jsxs(n,{variant:"main",direction:"column",gap:"8",children:[e.jsx(w,{children:a.title}),e.jsx(B,{learningTrack:a,children:c!=null&&e.jsxs(G,{className:D(o=="ltr"?"right-[6vw]":"left-[6vw]",!m&&"font-bold","absolute bottom-0 z-[1] translate-y-1/2 max-sm:inset-x-0 max-sm:scale-90 max-sm:place-content-end max-sm:gap-2"),children:[e.jsx(g,{thickness:"thick",variant:m?"default":"warning",icon:m?void 0:{placement:"left",source:M},children:e.jsx(p,{children:m?i.profile.buttons.despecialize:i.profile.buttons["specialize-now"]})}),m&&e.jsx(g,{thickness:"thick",variant:"primary",onClick:u=>t(h.base.routes.learningTrackIDCourses.MapVariables({learningTrackID:l})),icon:{className:o=="ltr"?"rotate-90":"-rotate-90",placement:"right",source:q},children:e.jsx(p,{children:i.profile.buttons.open})})]})}),e.jsxs("main",{className:"gap-page grid grid-cols-2 max-lg:grid-cols-1",children:[e.jsxs(n,{variant:"section",direction:"column",gap:"8",children:[e.jsxs(n,{direction:"column",gap:"4",children:[e.jsx(p,{className:"text-lg font-bold",variant:"h2",children:i.profile.introduction}),e.jsx(y,{variant:"p",children:a.description})]}),e.jsxs(n,{direction:"column",gap:"4",children:[e.jsx(p,{className:"text-lg font-bold",variant:"h2",children:i.profile.description}),e.jsx(y,{className:"text-justify",variant:"p",children:a["detailed-description"]})]}),e.jsxs(n,{direction:"column",gap:"4",children:[e.jsx(p,{className:"text-lg font-bold",variant:"h2",children:i.profile.courses.title}),e.jsx(E,{list:a.courses.map(u=>({title:u.toTitleCase("i","ii","iii","ai"),path:h.base.routes.courseID.MapVariable(u)}))})]}),e.jsxs(n,{direction:"column",gap:"4",children:[e.jsx(p,{className:"text-lg font-bold",variant:"h2",children:i.profile.tags}),e.jsx(n,{gap:"3",wrap:"wrap",children:a.tags.map((u,v)=>e.jsx(k,{className:"bg-background-dark active:bg-background-normal-active [&:where(:hover,:focus-within)]:bg-background-normal-hover cursor-pointer rounded-full px-3 py-1 transition duration-200",to:h.base.routes["learning-tracks"].absolute+"?"+new URLSearchParams({query:u}),children:u},v))})]})]}),e.jsxs(n,{className:"h-fit",gap:"4",direction:"column",children:[e.jsx(p,{className:"text-lg font-bold",variant:"h2",children:i.profile["specialized-users"].title}),e.jsx(C,{...d,skeletonArray:f,errorDisplay:{title:r(i.profile["specialized-users"].error.title,s),button:r(i.profile["specialized-users"].error.button,s),paragraph:r(i.profile["specialized-users"].error.paragraph,s)},emptyDisplay:{title:r(i.profile["specialized-users"].empty.title,s),paragraph:r(i.profile["specialized-users"].empty.paragraph,s).replace(/\*\*([^\*]+)\*\*/,`**"${a.title}"**`)}})]}),e.jsxs(n,{className:"lg:col-span-2",gap:"4",direction:"column",children:[e.jsx(p,{className:"text-lg font-bold",variant:"h2",children:i.profile["similar-learning-tracks"].title}),e.jsx(U,{...b,skeletonArray:f,errorDisplay:{title:r(i.profile["similar-learning-tracks"].error.title,s),paragraph:r(i.profile["similar-learning-tracks"].error.paragraph,s),button:r(i.profile["similar-learning-tracks"].error.button,s)},emptyDisplay:{title:r(i.profile["similar-learning-tracks"].empty.title,s),paragraph:r(i.profile["similar-learning-tracks"].empty.paragraph,s).replace(/\*\*([^\*]+)\*\*/,`**"${a.title}"**`)}})]})]})]})};export{ge as LearningTrackPage};
