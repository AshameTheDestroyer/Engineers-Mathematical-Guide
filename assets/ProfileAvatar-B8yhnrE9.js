import{r as v,j as o,t as b,n as y}from"./index-BRPsueAE.js";import{I as h}from"./Image-DZwa267l.js";const f=r=>v.useMemo(()=>r.reduce((e,a)=>{const[n,...s]=a.trim().split(/\s+/),l=parseInt(n,10);if(isNaN(l))return console.warn(`Invalid spread value in outline: "${a}"`),e;const t=e.cumulativeSpread+l,d=s.join(" "),i=`0 0 0 ${t}px ${d}`;return{shadows:[...e.shadows,i],cumulativeSpread:t}},{shadows:[],cumulativeSpread:0}).shadows.join(", "),[r]),j=({id:r,ref:e,onClick:a,children:n,className:s,backChild:l,frontChild:t,variant:d="div",flipType:i="hover",...m})=>{const p=d,[c,g]=v.useState(!0);return o.jsx(p,{id:r,ref:e,className:b("perspective-distant relative",i=="click"?`cursor-pointer ${!c&&"[&>div]:rotate-y-180"}`:"hover:[&>div]:rotate-y-180",s),onClick:x=>(a==null||a(x),i=="click"&&g(w=>!w)),...m,children:o.jsxs("div",{className:"transform-3d absolute inset-0 duration-500",children:[o.jsxs("div",{className:"backface-hidden absolute inset-0",children:[t,n]}),o.jsxs("div",{className:"backface-hidden rotate-y-180 absolute inset-0",children:[l,n]})]})})},$=""+new URL("default_avatar-CD360Zqx.png",import.meta.url).href,k=""+new URL("default_personal_image-BGQ9GjGs.png",import.meta.url).href,u=({id:r,ref:e,user:a,children:n,className:s,...l})=>{const{isDarkThemed:t}=y(),d=f(["3px var(--color-primary-dark)","6px var(--color-primary-normal)","3px var(--color-primary-dark)"]),i=f([`3px var(--color-tertiary-${t?"normal":"dark"})`,`6px var(--color-tertiary-${t?"light":"normal"})`,`3px var(--color-tertiary-${t?"normal":"dark"})`]),[m,p]=v.useMemo(()=>{const c=(a==null?void 0:a.username.hash())??0;return[c%360,c*2%360]},[a==null?void 0:a.username]);return o.jsx(j,{id:r,ref:e,className:s,flipType:"click",frontChild:o.jsx(h,{className:"overflow-visible! [&>img]:bg-background-normal [&>img]:rounded-full",source:(a==null?void 0:a.avatar)??$,alternative:`Avatar of ${a==null?void 0:a.name}'s Profile.`,style:{boxShadow:d,filter:(a==null?void 0:a.avatar)==null?`hue-rotate(${m}deg)`:""}}),backChild:o.jsx(h,{className:"overflow-visible! [&>img]:bg-background-normal [&>img]:rounded-full",source:(a==null?void 0:a["personal-image"])??k,alternative:`Personal Image of ${a==null?void 0:a.name}'s Profile.`,style:{boxShadow:i,filter:(a==null?void 0:a["personal-image"])==null?`hue-rotate(${p}deg)`:""}}),...l,children:n})};export{u as P};
