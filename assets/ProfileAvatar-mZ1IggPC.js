import{r as v,j as e,t as w,n as y}from"./index-Dj5WZ14J.js";import{I as h}from"./Image-Citbr_Vy.js";const f=r=>v.useMemo(()=>r.reduce((o,a)=>{const[n,...i]=a.trim().split(/\s+/),s=parseInt(n,10);if(isNaN(s))return console.warn(`Invalid spread value in outline: "${a}"`),o;const t=o.cumulativeSpread+s,d=i.join(" "),l=`0 0 0 ${t}px ${d}`;return{shadows:[...o.shadows,l],cumulativeSpread:t}},{shadows:[],cumulativeSpread:0}).shadows.join(", "),[r]),j=({id:r,ref:o,onClick:a,children:n,className:i,backChild:s,frontChild:t,variant:d="div",flipType:l="hover",...m})=>{const p=d,[c,g]=v.useState(!0);return e.jsx(p,{id:r,ref:o,className:w("perspective-distant relative",l=="click"?`cursor-pointer ${!c&&"[&>div]:rotate-y-180"}`:"hover:[&>div]:rotate-y-180",i),onClick:x=>(a==null||a(x),l=="click"&&g(b=>!b)),...m,children:e.jsxs("div",{className:"transform-3d absolute inset-0 duration-500",children:[e.jsxs("div",{className:"backface-hidden absolute inset-0",children:[t,n]}),e.jsxs("div",{className:"backface-hidden rotate-y-180 absolute inset-0",children:[s,n]})]})})},$="/assets/default_avatar-CD360Zqx.png",k="/assets/default_personal_image-BGQ9GjGs.png",I=({id:r,ref:o,user:a,children:n,className:i,...s})=>{const{isDarkThemed:t}=y(),d=f(["3px var(--color-primary-dark)","6px var(--color-primary-normal)","3px var(--color-primary-dark)"]),l=f([`3px var(--color-tertiary-${t?"normal":"dark"})`,`6px var(--color-tertiary-${t?"light":"normal"})`,`3px var(--color-tertiary-${t?"normal":"dark"})`]),[m,p]=v.useMemo(()=>{const c=(a==null?void 0:a.username.hash())??0;return[c%360,c*2%360]},[a==null?void 0:a.username]);return e.jsx(j,{id:r,ref:o,className:i,flipType:"click",frontChild:e.jsx(h,{className:"overflow-visible! [&>img]:bg-background-normal [&>img]:rounded-full",source:(a==null?void 0:a.avatar)??$,alternative:`Avatar of ${a==null?void 0:a.name}'s Profile.`,style:{boxShadow:d,filter:(a==null?void 0:a.avatar)==null?`hue-rotate(${m}deg)`:""}}),backChild:e.jsx(h,{className:"overflow-visible! [&>img]:bg-background-normal [&>img]:rounded-full",source:(a==null?void 0:a["personal-image"])??k,alternative:`Personal Image of ${a==null?void 0:a.name}'s Profile.`,style:{boxShadow:l,filter:(a==null?void 0:a["personal-image"])==null?`hue-rotate(${p}deg)`:""}}),...s,children:n})};export{I as P};
